!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.calciteMarketing=e()}(this,function(){"use strict";function t(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function e(e,n){return t((n||document).querySelectorAll(e))}function n(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.getAttribute("class"))}function i(e){(e=t(e)).forEach(function(t){!function(t,e){e.split(" ").forEach(function(e){var i=(t.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+e+"(\\s|$)","g"),"$2");n(t,e)&&t.setAttribute("class",i)})}(t,"is-active")})}function r(e){(e=t(e)).forEach(function(t){!function(t,e){e.split(" ").forEach(function(e){if(!n(t,e)){var i=t.getAttribute("class")||"";t.setAttribute("class",i+" "+e)}})}(t,"is-active")})}function s(){}s.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var s=0,c=i.length;s<c;s++)i[s].fn!==e&&i[s].fn._!==e&&r.push(i[s]);return r.length?n[t]=r:delete n[t],this}};var c=new s;return{viewSwitcher:function(){function t(t){!function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}(t,"click",n)}function n(t){t.preventDefault();var e={set:t.target.getAttribute("data-set"),target:t.target.getAttribute("data-view")};c.emit("switcher:toggle",e)}var s=e(".js-view-toggle");c.on("switcher:bind",function(e){e?t(e.node):s.forEach(function(e){t(e)})}),c.on("switcher:toggle",function(t){var n=e(".js-view[data-set="+t.set+"]"),s=e(".js-view[data-set="+t.set+"][data-view="+t.target+"]"),c=e(".js-view-toggle[data-set="+t.set+"]"),a=e(".js-view-toggle[data-set="+t.set+"][data-view="+t.target+"]");i(n),i(c),r(s),r(a)}),c.emit("switcher:bind")}}});